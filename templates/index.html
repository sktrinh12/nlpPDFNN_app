{% extends 'base.html' %}

{% block body %}

<div class="loader-wrapper">
    <span class="loader"><span class="loader-inner"></span></span>
</div>

<div class="container">
  <div class="row">
    <div class="col">

    <a href="{{ url_for('index') }}"><h1>{{ the_title }}</h1></a>
      <hr>

      <div class="row">
      <div class="col-7">
        <form action="/upload-pdf" method="POST" enctype="multipart/form-data">
          <div class="form-group">
            <div class="custom-file">
              <input oninput="filesize(this);" type="file" class="custom-file-input" name="pdf_up" id="pdf_up">
              <label class="custom-file-label" for="pdf_up">Select file (.txt or .pdf)</label>
            </div>
          </div>
       </div>
      </div>

      <br>
      <div class="row">          
           
      <div class="col-4">
        <button onclick="loading();" type="submit" id="submit-btn" class="btn btn-primary">Submit</button>
      </div>

      <div class="col-5" id="flash-msg">
      {% with errors = get_flashed_messages(category_filter=["warning"]) %}
          {% if errors %}
              {%- for message in errors %}
                <div class="alert alert-{{ category }}" role="alert">
                  <span><strong>{{ message }}</strong></span>
                      <button onclick="close_btn()" type="button" class="close" data-dismiss="alert" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                      </button>
                  </div>
              {% endfor -%}
          {% endif %}
      {% endwith %}
      </div>

      </div>
      </form>
      
    </div>
  </div>
</div>

{% endblock %}
